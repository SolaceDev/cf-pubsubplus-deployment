# Adds Certificates for use by the VMR
# Note that if the certificates are self signed or untrusted:
#  the broker_validate_cert_disabled should be set to true, please use -o operations/disable_service_broker_certificate_validation.yml
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Shared/properties/config/settings/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Medium-HA/properties/config/settings/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Large/properties/config/settings/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=Large-HA/properties/config/settings/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=deploy-all/properties/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=deploy-all/properties/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=deploy-all/properties/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=deploy-all/properties/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))
- type: replace
  path: /instance_groups/name=tests/properties/tls_config/value
  value: enabled
- type: replace
  path: /instance_groups/name=tests/properties/tls_config/selected_option?/broker_validate_cert_disabled?
  value: false
- type: replace
  path: /instance_groups/name=tests/properties/tls_config/selected_option?/rsa_server_cert/private_key_pem?
  value: ((solace_vmr_cert.private_key))
- type: replace
  path: /instance_groups/name=tests/properties/tls_config/selected_option?/rsa_server_cert/cert_pem?
  value: ((solace_vmr_cert.certificate))

